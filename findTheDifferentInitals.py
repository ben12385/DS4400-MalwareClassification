#Find initial section
import os

#malwareFileLocation = "C:\\Users\\Ben\\Desktop\\Malware"
malwareFileLocation = "F:\\Malware\\train\\train"

listOfFiles = os.listdir(malwareFileLocation)
listOfFiles.sort()

listOfStarting = set()

for fileName in listOfFiles:
	#Ignore files not ending with .asm
	if ".asm" not in fileName:
		continue
	print(str(listOfFiles.index(fileName)/2) + " Opening: " + fileName)
	with open(malwareFileLocation+"\\"+fileName, "r", encoding="latin-1") as reader:
		checkSeq = ""
		for line in reader:
			splittedData = line.split()
			splittedAgain = splittedData[0].split(":")
			if(splittedAgain[0] not in checkSeq):
				checkSeq = checkSeq + " " + splittedAgain[0]
	listOfStarting.add(checkSeq)

with open(malwareFileLocation+"\\typeOfSeq", "w", encoding="latin-1") as writer:	
	for a in listOfStarting:
		writer.write(a + "\n")