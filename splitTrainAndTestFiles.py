import random

labelsFileLocation = "C:\\Users\\Ben\\Documents\\GitHub\\DS4400-MalwareClassification\\"
filesToSkipLocation = "C:\\Users\\Ben\\Documents\\GitHub\\DS4400-MalwareClassification\\filesToSkip"

classSplit = [0,0,0,0,0,0,0,0,0]

toSkip = ""
with open(filesToSkipLocation, "r", encoding="latin-1") as reader:
	toSkip = reader.readlines()

classFileList = [list(),list(),list(),list(),list(),list(),list(),list(),list()]


with open(labelsFileLocation+"trainLabels.csv", "r") as reader:
	reader.readline()
	for line in reader:
		splittedData = line.split(",")
		if(splittedData[0] in toSkip):
			continue
		toIncrease = int(splittedData[1]) - 1
		classSplit[toIncrease] += 1
		
		classFileList[toIncrease].append(splittedData[0])
		
trainFileList = [list(),list(),list(),list(),list(),list(),list(),list(),list()]
testFileList = [list(),list(),list(),list(),list(),list(),list(),list(),list()]

for classIndex in range(0, len(classFileList)):
	toSeperate = int(len(classFileList[classIndex])*0.80)
	random.shuffle(classFileList[classIndex])
	trainFileList[classIndex] = classFileList[classIndex][:toSeperate]
	testFileList[classIndex] = classFileList[classIndex][toSeperate:]
	
with open(labelsFileLocation+"trainList", "w") as writer:
	for classList in trainFileList:
		for fileName in classList:
			writer.write(fileName[1:-1] + "\n")
			
with open(labelsFileLocation+"testList", "w") as writer:
	for classList in testFileList:
		for fileName in classList:
			writer.write(fileName[1:-1] + "\n")			
			
	
	


