#Split feature file into training and testing set

generalFeatureLocation = "F:\\Malware\\"
generalFileLocation = "C:\\Users\\Ben\\Documents\\GitHub\\DS4400-MalwareClassification\\"

trainList = ""
with open(generalFileLocation+"trainList", "r") as reader:
	trainList = reader.read()
	
testList = ""
with open(generalFileLocation+"testList", "r") as reader:
	testList = reader.read()
	
labels = list()
classes = list()
with open(generalFileLocation+"trainLabels.csv", "r") as reader:
	for line in reader:
		splittedData = line.split(",")
		labels.append(splittedData[0][1:-1])
		classes.append(splittedData[1])
		
a = 1
with open(generalFeatureLocation+"features", "r") as reader:
	with open(generalFeatureLocation+"testFeatures", "w") as testWriter:
		with open(generalFeatureLocation+"trainFeatures", "w") as trainWriter:
			for feature in reader:
				print(a)
				a +=1
				name = feature.split(",")[0]

				#Append class to feature
				location = labels.index(name[:-4])
				feature = feature[:-1] + "," + xfileClass
				fileClass = classes[location]
				
				#Decide train or test
				if(name[:-4] in trainList):
					trainWriter.write(feature)
				elif(name[:-4] in testList):
					testWriter.write(feature)
				else:
					print("Error somewhere")
					print(name)